[{"path":"https://ninanor.github.io/seatrackRgls/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Vegard Sandøy Bråthen. Maintainer, author.            Original creator, GLS expert Julian Evans. Author.           Code assistance","code":""},{"path":"https://ninanor.github.io/seatrackRgls/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bråthen VS, Moe B, Amélineau F, Ekker M others \t\t\t(2021) automated procedure (v2.0) obtain positions \t\t\tlight-level geolocators large-scale tracking \t\t\tseabirds. method description SEATRACK project. \t\t\tNINA Report 1893. Norwegian Institute Nature Research, \t\t\tTrondheim. https:// brage. nina. / nina- xmlui/handle/11250/2735757","code":"@TechReport{,   title = {An automated procedure (v2.0) to obtain positions from light-level geolocators in large-scale tracking of seabirds. A method description for the SEATRACK project},   author = {Vegard Bråthen and Børge Moe and Françoise Amélineau and Morten Ekker and Per Fauchald and Hálfdán Helgi Helgason and Malin Kjellstadli and Benjamin Merkel and Arnaud Tarroux and Jens Åström and Hallvard Strøm},   year = {2021},   institution = {Norwegian Institute for Nature Research}, }"},{"path":"https://ninanor.github.io/seatrackRgls/index.html","id":"seatrackrgls","dir":"","previous_headings":"","what":"An automated procedure used in the SEATRACK project to obtain positions from light-level geolocators in large- scale tracking of seabirds","title":"An automated procedure used in the SEATRACK project to obtain positions from light-level geolocators in large- scale tracking of seabirds","text":"goal seatrackRgls estimate two positions day light-level data geolocators (Lotek, BAS, Biotrack, Migrate Technology) using threshold method. automatically edits twilight events used calculating positions filter positions based flight speed, distribution, distance, midnight sun periods. allowed, package saves plots local computer aid subjective calibration sun elevation angles, crucial producing realistic latitudes. script run twice. First “best-guess” sun angle, calibrated sun angle.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"An automated procedure used in the SEATRACK project to obtain positions from light-level geolocators in large- scale tracking of seabirds","text":"can install development version seatrackRgls GitHub :","code":"# install.packages(\"pak\") pak::pak(\"NINAnor/seatrackRgls\")"},{"path":"https://ninanor.github.io/seatrackRgls/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"An automated procedure used in the SEATRACK project to obtain positions from light-level geolocators in large- scale tracking of seabirds","text":"TODO","code":"library(seatrackRgls) ## basic example code"},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":null,"dir":"Reference","previous_headings":"","what":"GLSFilterSettingsList — GLSFilterSettingsList","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"convenience class storing list GLSsettings objects retrieving settings based logger/species/colony.","code":""},{"path":[]},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"filter_list List GLSsettings objects","code":""},{"path":[]},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"GLSFilterSettingsList$new() GLSFilterSettingsList$get_settings_from_list() GLSFilterSettingsList$clone()","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"Create new GLSFilterSettingsList object","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"","code":"GLSFilterSettingsList$new(filter_list = list())"},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"filter_list list GLSsettings objects.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"method-get-settings-from-list-","dir":"Reference","previous_headings":"","what":"Method get_settings_from_list()","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"Get Settings settings_list based logger ID, species, colony.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"","code":"GLSFilterSettingsList$get_settings_from_list(   species = NULL,   colony = NULL,   logger_id = NULL,   years_tracked = NULL )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"species Optional species name match. colony Optional colony name match. logger_id Optional logger ID match. years_tracked Optional year tracked match","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"list filter settings matching provided identifiers. match found, returns default settings species.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"objects class cloneable method.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"","code":"GLSFilterSettingsList$clone(deep = FALSE)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSFilterSettingsList.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"GLSFilterSettingsList — GLSFilterSettingsList","text":"deep Whether make deep clone.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":null,"dir":"Reference","previous_headings":"","what":"GLSsettings Class — GLSsettings","title":"GLSsettings Class — GLSsettings","text":"convenience class storing settings lists alongside identifiers logger/species/colony belong.","code":""},{"path":[]},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"GLSsettings Class — GLSsettings","text":"species Species identifier colony Colony identifier logger_id Logger ID identifier years_tracked Years tracked identifier settings list containing filter settings logger/species/colony.","code":""},{"path":[]},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"GLSsettings Class — GLSsettings","text":"GLSsettings$new() GLSsettings$check_settings_for() GLSsettings$clone()","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"GLSsettings Class — GLSsettings","text":"Create new GLSsettings object","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GLSsettings Class — GLSsettings","text":"","code":"GLSsettings$new(   logger_id = NULL,   species = NULL,   colony = NULL,   years_tracked = NULL,   settings = NULL )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GLSsettings Class — GLSsettings","text":"logger_id Optional logger ID associate settings. species Optional species name associate settings. colony Optional colony name associate settings. years_tracked Optional years tracked associate settings. settings Optional list filter settings. NULL, defaults settings provided species seatrackRgls::seatrack_settings_list.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"method-check-settings-for-","dir":"Reference","previous_headings":"","what":"Method check_settings_for()","title":"GLSsettings Class — GLSsettings","text":"Check settings particular combination logger/species/colony","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"GLSsettings Class — GLSsettings","text":"","code":"GLSsettings$check_settings_for(   species = NULL,   logger_id = NULL,   colony = NULL,   years_tracked = NULL )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"GLSsettings Class — GLSsettings","text":"species Optional species name match. logger_id Optional logger ID match. colony Optional colony name match. years_tracked Optional years tracked match.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"GLSsettings Class — GLSsettings","text":"TRUE settings match provided identifiers, FALSE otherwise.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"GLSsettings Class — GLSsettings","text":"objects class cloneable method.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"GLSsettings Class — GLSsettings","text":"","code":"GLSsettings$clone(deep = FALSE)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/GLSsettings.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"GLSsettings Class — GLSsettings","text":"deep Whether make deep clone.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/apply_filters.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply filters to loaded light data to estimate positions — apply_filters","title":"Apply filters to loaded light data to estimate positions — apply_filters","text":"Given light data, calibration data, filter settings, colony info, extra metadata, function processes light data estimate positions apply various filters. information filter, see individual filter function help files.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/apply_filters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply filters to loaded light data to estimate positions — apply_filters","text":"","code":"apply_filters(   light_data,   light_data_calibration,   logger_filter,   logger_colony_info,   logger_extra_metadata,   show_filter_plots = FALSE,   plotting_dir = NULL,   prev_posdata_export = NULL,   type = \"main\",   calibration_mode = FALSE )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/apply_filters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply filters to loaded light data to estimate positions — apply_filters","text":"light_data data frame containing loaded light data. light_data_calibration data frame containing calibration data logger. logger_filter list filter settings specific logger species. logger_colony_info data frame containing colony information logger. logger_extra_metadata data frame containing extra metadata logger. Defaults NULL. show_filter_plots logical indicating whether show filter plots. Defaults FALSE. plotting_dir optional directory path save plotting outputs. Defaults NULL. prev_posdata_export optional data frame containing previous position data comparison seasonal calibration. Defaults NULL. type string indicating type calibration: \"main\", \"winter\", \"summer\". Defaults \"main\". setting primarily internal use seasonal calibration. Generally users call function type = \"main\". calibration_mode logical indicating whether run calibration mode. Defaults FALSE.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/apply_filters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply filters to loaded light data to estimate positions — apply_filters","text":"calibration_mode FALSE, returns list containing: - twilight_estimates: data frame twilight estimates. - posdata_export: data frame processed position data. - filtering: data frame summarizing filtering steps applied. type main calibration_mode FALSE, returned posdata_export include seasonal adjustments. calibration_mode TRUE, returns data frame default calibration outputs. type main, compares sun angles previous calibration order return adjusted sun angles.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/argos_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Argos Filter for Position Data — argos_filter","title":"Argos Filter for Position Data — argos_filter","text":"Filters position data using Argos SDA filter, removing positions classified \"removed\" \"end_location\", considering equinox periods.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/argos_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Argos Filter for Position Data — argos_filter","text":"","code":"argos_filter(   posdata,   light_data_calibration,   logger_colony_info,   logger_filter )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/argos_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Argos Filter for Position Data — argos_filter","text":"posdata data frame containing position data columns lat_smooth2, lon_smooth2, date_time, type, eqfilter. light_data_calibration list containing light data calibration parameters. logger_colony_info list containing logger colony information, including col_lat col_lon. logger_filter list containing logger filter parameters, including speed.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/argos_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Argos Filter for Position Data — argos_filter","text":"filtered data frame positions classified \"removed\" \"end_location\" Argos SDA filter removed, except equinox periods.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/assign_equinox_periods.html","id":null,"dir":"Reference","previous_headings":"","what":"Assign equinox periods — assign_equinox_periods","title":"Assign equinox periods — assign_equinox_periods","text":"Assign days year estimated latitudes unreliable due equinox. Limits based approximate latitude geolocator record light-data (objective; towards poles changes daylength dramatic around equinox equator = shorter equinox period). much uncertainty allowed (subjective)\t: uncertainty gets extreme right equinox less away time. ut point equinox period aim keep average day--day variance latitude 1.5 degrees (165 km). Results sun angle calibrations (objective) result ) threshold (light-level) used differentiate night daytime b) sensor's light sensitivity.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/assign_equinox_periods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assign equinox periods — assign_equinox_periods","text":"","code":"assign_equinox_periods(lats, dates, breedingloc_lat, sun)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/assign_equinox_periods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assign equinox periods — assign_equinox_periods","text":"lats Numeric value latitudes tracked individual. dates Dates (tfirst) latitudes occur breedingloc_lat Approximate latitude breeding locality. sun Numeric  value showing sun's angle horizon twilight. result based chosen threshold light used twilight estimations light sensor sensitivity","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/assign_equinox_periods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assign equinox periods — assign_equinox_periods","text":"list saying equinox effect present (1 = equinox effect, 0 = equinox effect).","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/assign_equinox_periods.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Assign equinox periods — assign_equinox_periods","text":"Point 1-3 compared reference table: Apparent equinox (period midpoint) defined sun angles compare calculations Hill & Braun (2001). Period start end based estimations variance Hill & Braun (2001) mean day--day variance latitudes observed 16 000 tracked non-breeding seasons SEATRACK. function performs following steps: Calculate median sun angle 5-day period yday 41:45 (>30 days spring EQ), yday 113:117 (>30 days spring EQ), yday 227:231 (>30 days autumn EQ), yday 300:304 (>30 days autumn EQ). sun angles available - use first sun angle Calculate median latitudes 5-day period yday 41:45 (>30 days spring EQ), yday 113:117 (>30 days spring EQ), yday 227:231 (>30 days autumn EQ), yday 300:304 (>30 days autumn EQ). latitudes midnight sun - use breeding location Matches e.g yday 41:45 median sun angle median latitude reference table within R package identify start spring equinox period .","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/aut_midnight_sun_removal.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove false positions during breeding or midnight sun periods — aut_midnight_sun_removal","title":"Remove false positions during breeding or midnight sun periods — aut_midnight_sun_removal","text":"head tail yearly track (e.g breedingY breedingY+1) : removes first last positions 25 hours apart time positions. Datagaps >25 hours midst track assessed filtered.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/aut_midnight_sun_removal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove false positions during breeding or midnight sun periods — aut_midnight_sun_removal","text":"","code":"aut_midnight_sun_removal(df)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/aut_midnight_sun_removal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove false positions during breeding or midnight sun periods — aut_midnight_sun_removal","text":"df data.frame  'tFirst' 'tSecond' (date_time) must part first eight columns","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/aut_midnight_sun_removal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove false positions during breeding or midnight sun periods — aut_midnight_sun_removal","text":"data.frame non-consecutive positions removed head tail original data.frame","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/bounding_box_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Bounding Box Filter for Position Data — bounding_box_filter","title":"Bounding Box Filter for Position Data — bounding_box_filter","text":"Filters position data based defined bounding box, removing positions outside specified latitude longitude limits.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/bounding_box_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bounding Box Filter for Position Data — bounding_box_filter","text":"","code":"bounding_box_filter(posdata, light_data_calibration, logger_filter)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/bounding_box_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bounding Box Filter for Position Data — bounding_box_filter","text":"posdata data frame containing position data columns lon, lat, tFirst. light_data_calibration list containing light data calibration parameters. logger_filter list containing logger filter parameters, including default boundary box limits.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/bounding_box_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bounding Box Filter for Position Data — bounding_box_filter","text":"filtered data frame positions outside bounding box removed.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/calibration_to_wb.html","id":null,"dir":"Reference","previous_headings":"","what":"Write Calibration Data to Excel Workbook — calibration_to_wb","title":"Write Calibration Data to Excel Workbook — calibration_to_wb","text":"Writes provided calibration data frame Excel workbook formatting.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/calibration_to_wb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write Calibration Data to Excel Workbook — calibration_to_wb","text":"","code":"calibration_to_wb(   all_calibration,   calibration_output_dir,   calibration_filename = paste0(\"calibration_\", Sys.Date(), \".xlsx\") )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/calibration_to_wb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write Calibration Data to Excel Workbook — calibration_to_wb","text":"all_calibration Data frame containing calibration data loggers. calibration_output_dir Directory save calibration Excel workbook. calibration_filename Name calibration Excel file. Defaults \"calibration_<current_date>.xlsx\".","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/calibration_to_wb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write Calibration Data to Excel Workbook — calibration_to_wb","text":"None. Saves calibration data Excel workbook specified file path.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/compare_sun_angle.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare Sun Angles to Optimize Position Estimation — compare_sun_angle","title":"Compare Sun Angles to Optimize Position Estimation — compare_sun_angle","text":"function compares sun angles previous new position data exports optimize position estimation based latitude differences.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/compare_sun_angle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare Sun Angles to Optimize Position Estimation — compare_sun_angle","text":"","code":"compare_sun_angle(prev_posdata_export, new_posdata_export, type)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/compare_sun_angle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare Sun Angles to Optimize Position Estimation — compare_sun_angle","text":"prev_posdata_export data frame containing previous position data export columns eqfilter, lat, type, date_time. new_posdata_export data frame containing new position data export columns tFirst, tSecond, type. type string indicating type sun angle sequence use. Options \"general\", \"summer\", \"winter\".","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/compare_sun_angle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare Sun Angles to Optimize Position Estimation — compare_sun_angle","text":"list containing optimal sun angles start end track: sun_angle_start sun_angle_end.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/create_filter_settings_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Filter Settings File — create_filter_settings_file","title":"Create Filter Settings File — create_filter_settings_file","text":"Create example filter settings Excel file specified species. file contain default filter settings species. See read_filter_file reading filter file.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/create_filter_settings_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Filter Settings File — create_filter_settings_file","text":"","code":"create_filter_settings_file(filepath, species = c())"},{"path":"https://ninanor.github.io/seatrackRgls/reference/create_filter_settings_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Filter Settings File — create_filter_settings_file","text":"filepath Filepath save filter settings Excel file. species Vector species names include filter file. empty, creates empty template default settings black-legged kittiwake.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/create_filter_settings_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Filter Settings File — create_filter_settings_file","text":"None. function creates Excel file specified filepath.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/date_conversion.html","id":null,"dir":"Reference","previous_headings":"","what":"convert dates for seatrackGLS — date_conversion","title":"convert dates for seatrackGLS — date_conversion","text":"convert dates seatrackGLS","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/date_conversion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert dates for seatrackGLS — date_conversion","text":"","code":"date_conversion(date, tz = \"UTC\")"},{"path":"https://ninanor.github.io/seatrackRgls/reference/date_conversion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert dates for seatrackGLS — date_conversion","text":"date Date converted","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/date_conversion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert dates for seatrackGLS — date_conversion","text":"Converted date format \"yyyy-mm-dd UTC\"","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/datetime_conversion.html","id":null,"dir":"Reference","previous_headings":"","what":"convert date time for seatrackGLS — datetime_conversion","title":"convert date time for seatrackGLS — datetime_conversion","text":"convert date time seatrackGLS","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/datetime_conversion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert date time for seatrackGLS — datetime_conversion","text":"","code":"datetime_conversion(datetime, tz = \"UTC\")"},{"path":"https://ninanor.github.io/seatrackRgls/reference/datetime_conversion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert date time for seatrackGLS — datetime_conversion","text":"date Date time converted","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/datetime_conversion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert date time for seatrackGLS — datetime_conversion","text":"Converted date format \"yyyy-mm-dd hh:mm:ss UTC\"","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/daylengthfilter.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove twilights that form subsequent outliers in length of day or night. — daylengthfilter","title":"Remove twilights that form subsequent outliers in length of day or night. — daylengthfilter","text":"function performs following steps: Separate rows day (type=1)/night(type=2), calculate length day night Fill short time gaps baytrends::fillMissing(). Fill large time gaps assuming polar night midnight sun: Add 23.5 hrs day/0.5hrs night (midnight sun) 0.5 hrs day/23.5 hrs night (polar night) dates without twilights, assuming summer winter solstice otherwise quite long (>16hrs) quite short day (<8hrs) period year. Calculate different length day/night consecutive dates. Initial filtering: Endpoints filtered comparing day/night lengths 20-day mean, accommodate often poor data quality due shading nest attendance start end logging periods Main filtering: daily day/night lengths compared loess predictions day/night length based 5 day running means. Twilights results lengths 6hrs, less 48 hour different previous date removed. last, repeat steps, now filter twilights results lengths 3hrs, less 48 hour different previous date removed.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/daylengthfilter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove twilights that form subsequent outliers in length of day or night. — daylengthfilter","text":"","code":"daylengthfilter(df, show_plot)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/daylengthfilter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove twilights that form subsequent outliers in length of day or night. — daylengthfilter","text":"df Input data twilight times GMT shown 'tfirst' 'tsecond' (yyyy-mm-dd hh:mm:ss UTC) 'type', 1 (tfirst sunrise) 2 (tfirst sunset). show_plot TRUE, plot produced day/night length affected twilights highlighted","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/daylengthfilter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove twilights that form subsequent outliers in length of day or night. — daylengthfilter","text":"filtered data.frame format.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/double_smoothing.html","id":null,"dir":"Reference","previous_headings":"","what":"Double smoothing of positions — double_smoothing","title":"Double smoothing of positions — double_smoothing","text":"raw positions relatively low precision (Phillips et al. 2004) also exhibit typical noon–midnight zigzag pattern latitude due east–west movements, lesser extent longitude due north – south movements (Fox 2010, 2015). reduce influence inaccurate positions compensate movements double smoothing procedure described Hanssen et al. 2016 can applied (DOI: 10.1007/s00300-016-1908-z).","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/double_smoothing.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Double smoothing of positions — double_smoothing","text":"","code":"double_smoothing(df, sun)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/double_smoothing.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Double smoothing of positions — double_smoothing","text":"df data.frame twilight times 'tFirst' 'tSecond' 'type' (1 = tFirst morning, 2 = tFirst evening) sun corresponding sun angle latitude longitude","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/double_smoothing.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Double smoothing of positions — double_smoothing","text":"data frame six additional columns; 'lat' & 'lon', 'lat_smooth1' & 'lon_smooth1' 'lat_smooth2' & 'lat_smooth2'.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/double_smoothing.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Double smoothing of positions — double_smoothing","text":"function performs following steps: First smoothing, essentially compensation east-west movements (mean lat (lat_smooth1)) north-south movements (mean lon (lon_smooth1)), noon-midnight. Compensate positions crossing Pacific 180 Meridian Second smoothing, two point moving average noon-midnight positions ('lat_smooth2' 'lon_smooth2'), Phillips et al.2004","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/equinox_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Equinox Filter for Position Data — equinox_filter","title":"Equinox Filter for Position Data — equinox_filter","text":"Applies equinox filter position data based calibrated light data.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/equinox_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Equinox Filter for Position Data — equinox_filter","text":"","code":"equinox_filter(   posdata,   posdata_lat,   light_data_calibration,   logger_colony_info )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/equinox_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Equinox Filter for Position Data — equinox_filter","text":"posdata data frame containing position data columns date_time. posdata_lat numeric vector latitudes corresponding position data. light_data_calibration list containing light data calibration parameters, including equinox start end dates. logger_colony_info list containing logger colony information, including col_lat.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/equinox_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Equinox Filter for Position Data — equinox_filter","text":"data frame additional column eqfilter indicating equinox effect presence (TRUE = equinox effect, FALSE = equinox effect).","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/equinox_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Equinox table — equinox_table","title":"Equinox table — equinox_table","text":"Vegard's magical table equinoxes latitude Latitude sun_angle Angle sun","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/equinox_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Equinox table — equinox_table","text":"","code":"equinox_table"},{"path":"https://ninanor.github.io/seatrackRgls/reference/equinox_table.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Equinox table — equinox_table","text":"object class data.frame 4669 rows 10 columns.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/example_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Example metadata for GLS loggers A dataset containing example metadata for GLS loggers. — example_metadata","title":"Example metadata for GLS loggers A dataset containing example metadata for GLS loggers. — example_metadata","text":"Example metadata GLS loggers dataset containing example metadata GLS loggers. Example colony information GLS loggers dataset containing example example colony information GLS loggers. Example extra metadata GLS loggers dataset containing example extra metadata GLS loggers.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/example_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example metadata for GLS loggers A dataset containing example metadata for GLS loggers. — example_metadata","text":"","code":"example_metadata  example_colony_info  example_extra_metadata"},{"path":"https://ninanor.github.io/seatrackRgls/reference/example_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example metadata for GLS loggers A dataset containing example metadata for GLS loggers. — example_metadata","text":"object class data.frame 1 rows 6 columns. object class data.frame 1 rows 3 columns. object class data.frame 1 rows 5 columns.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/export_filter_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper to export filter plots — export_filter_plot","title":"Wrapper to export filter plots — export_filter_plot","text":"function wraps around code call export plots used filtering steps. show_filter_plots FALSE, code simply evaluated without plotting Otherwise, show_filter_plots TRUE, code evaluated resulting plot saved PNG file specified filter_plots_dir.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/export_filter_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper to export filter plots — export_filter_plot","text":"","code":"export_filter_plot(   call = {  },   show_filter_plots = TRUE,   plot_name = \"\",   logger_id_year = \"\",   plotting_dir = NULL )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/export_filter_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper to export filter plots — export_filter_plot","text":"call code evaluated, typically function call generates plot. show_filter_plots Logical indicating whether show save filter plots. plot_name string specifying name plot file (without extension). logger_id_year string identify logger year, used plot filename. filter_plots_dir directory plot files saved. NULL, plots saved files.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/export_filter_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper to export filter plots — export_filter_plot","text":"result evaluating provided code call.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_breeding_month_seq.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a sequence of breeding months — get_breeding_month_seq","title":"Generate a sequence of breeding months — get_breeding_month_seq","text":"function generates sequence months representing breeding period, taking account cases breeding period spans end year.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_breeding_month_seq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a sequence of breeding months — get_breeding_month_seq","text":"","code":"get_breeding_month_seq(start_month = 6, end_month = 8)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_breeding_month_seq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a sequence of breeding months — get_breeding_month_seq","text":"start_month integer representing starting month breeding period (1-12). end_month integer representing ending month breeding period (1-12).","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_breeding_month_seq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a sequence of breeding months — get_breeding_month_seq","text":"vector integers representing months breeding period.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_light_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load lightdata from files — get_light_data","title":"Load lightdata from files — get_light_data","text":"Loads light data specified file paths. handle different file formats based file extensions.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_light_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load lightdata from files — get_light_data","text":"","code":"get_light_data(filepaths)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_light_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load lightdata from files — get_light_data","text":"filepaths vector file paths logger data files.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/get_light_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load lightdata from files — get_light_data","text":"data frame containing loaded light data.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/i.preSelection_bugfree.html","id":null,"dir":"Reference","previous_headings":"","what":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — i.preSelection_bugfree","title":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — i.preSelection_bugfree","text":"Property GeoLight Lisovski 2012. Small bug fixed outdated date-formatting function baseR","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/i.preSelection_bugfree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — i.preSelection_bugfree","text":"","code":"i.preSelection_bugfree(datetime, light, LightThreshold)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/i.twilightEvents.html","id":null,"dir":"Reference","previous_headings":"","what":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — i.twilightEvents","title":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — i.twilightEvents","text":"Property GeoLight Lisovski 2012. Small bug fixed outdated date-formatting function baseR","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/i.twilightEvents.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — i.twilightEvents","text":"","code":"i.twilightEvents(datetime, light, LightThreshold)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/land_mask.html","id":null,"dir":"Reference","previous_headings":"","what":"Land mask — land_mask","title":"Land mask — land_mask","text":"function measures distance location coastline, using package ‘distancetocoast’ high-resolution coastline Natural Earth (\"10\"). Land ocean location can  removed surpassing specified distance km. avoid function, apply far (e.g '10000' km) infinite ('Inf') distance.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/land_mask.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Land mask — land_mask","text":"","code":"land_mask(lon, lat, coast_to_land, coast_to_sea, eqfilter)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/land_mask.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Land mask — land_mask","text":"lon longitude decimal degrees lat latitude decimal degrees coast_to_land locations filtered X km inland coastline coast_to_sea locations filtered X km offshore coastline eqfilter equinox, locations filtered","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/land_mask.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Land mask — land_mask","text":"data frame longitude latitude filtered.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/limit_light_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Limit light data to calibration time windows — limit_light_data","title":"Limit light data to calibration time windows — limit_light_data","text":"Limit light data calibration time windows","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/limit_light_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Limit light data to calibration time windows — limit_light_data","text":"","code":"limit_light_data(light_data, logger_calibration_data)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/limit_light_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Limit light data to calibration time windows — limit_light_data","text":"light_data Data frame containing light data 'dtime' column. logger_calibration_data Data frame containing calibration data 'start_datetime' 'end_datetime' columns.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/limit_light_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Limit light data to calibration time windows — limit_light_data","text":"list data frames, containing light data limited corresponding calibration time window.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/loess_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Loess Filter for Position Data — loess_filter","title":"Loess Filter for Position Data — loess_filter","text":"Applies loess filter position data track length exceeds 45 days.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/loess_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Loess Filter for Position Data — loess_filter","text":"","code":"loess_filter(posdata, logger_filter)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/loess_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Loess Filter for Position Data — loess_filter","text":"posdata data frame containing position data columns tFirst, tSecond, type. logger_filter list containing logger filter parameters, including `loess_filter_k","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/loess_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Loess Filter for Position Data — loess_filter","text":"data frame loess-filtered positions applicable; otherwise, original data frame.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/move_twilights.html","id":null,"dir":"Reference","previous_headings":"","what":"Edit twilights by location-dependent thresholds. — move_twilights","title":"Edit twilights by location-dependent thresholds. — move_twilights","text":"filter identify act false twilights fulfil two conditions: first, twilight must clearly different adjacent twilights type (e.g sunsets), second, adjacent twilights must occur similar time day. conditions fulfilled, time day identified twilight changed average adjacent twilights. filter effect periods variation twilight timing high, either due migration, unfortunate influence shadow artificial light present several days.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/move_twilights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Edit twilights by location-dependent thresholds. — move_twilights","text":"","code":"move_twilights(df, speed, sun, show_plot)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/move_twilights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Edit twilights by location-dependent thresholds. — move_twilights","text":"df Input data tFirst, tSecond, type speed Maximum expected movement rate km/h, sustained two locations ~12 hours . Second location pair removed. sun calibrated sun angles per date show_plot TRUE FALSE","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/move_twilights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Edit twilights by location-dependent thresholds. — move_twilights","text":"data frame edited twilights.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/move_twilights.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Edit twilights by location-dependent thresholds. — move_twilights","text":"function performs following steps: Make time circular. Make reference table selecting thresholds (daily change light per lat/month min*2 + 15m variance). Define  threshold minutes C considered (twilight define threshold): use reference table select right month reference latitude closest birds' approx. latitude approx equinox period function use estimated lats based 10 lats equinox period remaining NA's, average threshold across lats months used (22 min) Threshold B different C: minutes_different <- (speed / 24) * 8 (20 min minimum) + rate change daylight Produce plot affected twilights highlighted","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/noonfilter.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove twilights that form subsequent outliers in time of noon and midnight. — noonfilter","title":"Remove twilights that form subsequent outliers in time of noon and midnight. — noonfilter","text":"function performs following steps: Calculate noon/midnight based twilight. make noon/midnight circular. split data set day night loess predictions noon/midnight (excluding twilights extreme variation predictions) fill data gaps predictions baytrends::fillMissing() find minimum difference noon/midnight directly calculated twilights predicted noon/midnight 4 days ahead candidate noon/midnight. threshold removing twilight difference noon/midnight vs prediction overreach 0.4h, 12h","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/noonfilter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove twilights that form subsequent outliers in time of noon and midnight. — noonfilter","text":"","code":"noonfilter(df, show_plot)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/noonfilter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove twilights that form subsequent outliers in time of noon and midnight. — noonfilter","text":"df Input data twilight times GMT shown 'tfirst' 'tsecond' (yyyy-mm-dd hh:mm:ss UTC) 'type', 1 (tfirst sunrise) 2 (tfirst sunset). show_plot TRUE, plot produced timing noon/midnight affected twilights highlighted","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/noonfilter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove twilights that form subsequent outliers in time of noon and midnight. — noonfilter","text":"filtered data.frame format.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/plot_a_map.html","id":null,"dir":"Reference","previous_headings":"","what":"Produce a Quick Map — plot_a_map","title":"Produce a Quick Map — plot_a_map","text":"Produce Quick Map","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/plot_a_map.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Produce a Quick Map — plot_a_map","text":"","code":"plot_a_map(df)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/plot_a_map.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Produce a Quick Map — plot_a_map","text":"df data frame lat, lon, eqfilter, date_time, col_lat, col_lon, colony","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/plot_a_map.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Produce a Quick Map — plot_a_map","text":"Plotted map.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/prepare_calibration.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Calibration Data from a Folder — prepare_calibration","title":"Prepare Calibration Data from a Folder — prepare_calibration","text":"Convience function preparing GLS logger data light data calibration. Uses process_folder() calibration mode handle directory light data. See 'process_folder()' details. Custom settings can provided using filter_setting_list. creation empty filter settings template see create_filter_settings_file(). export_calibration_template TRUE, export empty calibration sheet using 'calibration_to_wb()'.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/prepare_calibration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Calibration Data from a Folder — prepare_calibration","text":"","code":"prepare_calibration(   import_directory,   metadata,   all_colony_info,   output_directory,   show_filter_plots = FALSE,   export_calibration_template = TRUE,   filter_setting_list = seatrackRgls::seatrack_settings_list )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/prepare_calibration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Calibration Data from a Folder — prepare_calibration","text":"import_directory Directory containing raw light data files. expected named format <logger_id>_<year_retrieved>_<logger_model>, e.g. C23_2015_mk4083 metadata data frame containing calibration data loggers string providing filepath read data . can excel file, CSV file directory containing multiple calibration files. dataframe can consist single row per logger/year combination, following columns logger_id, species, colony, date_deployed date_retrieved. Providing logger_model strongly advised. automatically split time windows, using year_split setting (defaulting \"01-06\" 'seatrack_settings_list'). Alternatively, custom time windows can provided including columns start_datetime end_datetime, one time window per row. all_colony_info data frame containing colony information loggers (one row per colony). required columns colony, latitude, longitude. output_directory Directory save calibration templates calibration plots. show_filter_plots TRUE show_filter_plots logical indicating whether show individual filter plots default sun angle. Defaults FALSE. export_calibration_template TRUE export calibration template excel format. Otherwise returns calibration template R object. Defaults TRUE. filter_setting_list 'GLSFilterSettingsList' object containing filter settings loggers path load one using read_filter_file(). Defaults 'seatrackRgls::seatrack_settings_list'.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/prepare_calibration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare Calibration Data from a Folder — prepare_calibration","text":"export calibration plots assist choosing appropriate sun angles processing GLS logger data (see vignette). decided , final positions can exported using process_positions()","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_folder.html","id":null,"dir":"Reference","previous_headings":"","what":"Process all light position files in a folder — process_folder","title":"Process all light position files in a folder — process_folder","text":"Given import directory containing light data files function processes light data files folder. applies calibration data, filter settings, colony info, extra metadata needed logger/year combination found folder using 'process_logger_year()' calibration mode, can export combined calibration data file processed loggers. calibration mode, exports processed position data, filtering summaries, twilight estimates logger/year combination.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_folder.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process all light position files in a folder — process_folder","text":"","code":"process_folder(   import_directory,   calibration_data,   all_colony_info,   filter_setting_list = seatrackRgls::seatrack_settings_list,   extra_metadata = NULL,   show_filter_plots = FALSE,   output_dir = NULL,   calibration_mode = TRUE,   export_calibration_template = TRUE )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_folder.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process all light position files in a folder — process_folder","text":"import_directory Directory containing raw light data files. expected named format <logger_id>_<year_retrieved>_<logger_model>, e.g. C23_2015_mk4083 calibration_data data frame containing metadata/calibration data loggers string providing filepath read data . can excel file, CSV file directory containing multiple calibration files. calibration mode, dataframe can consist single row per logger/year combination. calibration mode, minimum required columns logger_id, species, colony, date_deployed date_retrieved. Providing logger_model strongly advised. calibration mode, data frame expected format output running function calibration mode. all_colony_info data frame containing colony information loggers (one row per colony). required columns colony, latitude, longitude. filter_setting_list 'GLSFilterSettingsList' object containing filter settings loggers path load one using 'read_filter_file()'. Defaults 'seatrack_settings_list'. extra_metadata Optional data frame containing extra metadata loggers. must column logger_id join extra metadata. year_retrieved column can also provided join based combination logger session . show_filter_plots logical indicating whether show filter plots. Defaults FALSE. output_dir optional directory path save processed outputs. Defaults NULL. calibration_mode logical indicating whether run calibration mode. Defaults TRUE. TRUE, function can export return combined calibration data file logger/year combinations. FALSE, function exports processed position data, filtering summaries, twilight estimates logger/year combination. export_calibration_template logical indicating whether export excel calibration template. Defaults TRUE. FALSE, calibration template returned.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_light_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load and process a logger/year combination's light files — process_logger_light_data","title":"Load and process a logger/year combination's light files — process_logger_light_data","text":"Given set filepaths light data files, calibration data, filter settings, colony info extra metadata, function processes light data estimate positions apply various filters depending whether calibration mode active .","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_light_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load and process a logger/year combination's light files — process_logger_light_data","text":"","code":"process_logger_light_data(   filepaths,   logger_calibration_data,   filter_setting_list,   logger_colony_info,   logger_extra_metadata = NULL,   show_filter_plots = FALSE,   plotting_dir = NULL,   calibration_mode = TRUE,   min_length = 40 )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_light_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load and process a logger/year combination's light files — process_logger_light_data","text":"filepaths vector file paths light data files. logger_calibration_data data frame containing calibration data logger. multiple calibration windows provided, processed sequence. filter_setting_list list filter settings different species. Defaults seatrack_settings_list. logger_colony_info data frame containing colony information logger. logger_extra_metadata data frame containing extra metadata logger. show_filter_plots logical indicating whether show filter plots. Defaults FALSE. plotting_dir optional directory path save plotting outputs. Defaults NULL. calibration_mode logical indicating whether run calibration mode. Defaults TRUE. min_length Number indicating minimum length light data. Anything fail. Defaults 40.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_light_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load and process a logger/year combination's light files — process_logger_light_data","text":"calibration_mode FALSE, returns list containing: - twilight_estimates: data frame twilight estimates. - posdata_export: data frame processed position data. - filtering: data frame summarizing filtering steps applied. calibration_mode TRUE, returns data frame default calibration outputs exports calibration plots.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare light position files a single logger and year combination — process_logger_year","title":"Prepare light position files a single logger and year combination — process_logger_year","text":"Given logger ID year, function processes light data files logger/year combination, finding appropriate light files specified import directory applying calibration data, filter settings, colony info, extra metadata needed. passed 'process_logger_light_data()' handle loading light data processing.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare light position files a single logger and year combination — process_logger_year","text":"","code":"process_logger_year(   logger_id,   year,   import_directory,   calibration_data,   all_colony_info,   filter_setting_list = seatrackRgls::seatrack_settings_list,   extra_metadata = NULL,   show_filter_plots = FALSE,   export_maps = TRUE,   plotting_dir = NULL,   output_dir = NULL,   calibration_mode = TRUE,   analyzer = \"\" )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare light position files a single logger and year combination — process_logger_year","text":"logger_id ID logger process. year year_retrieved process logger. import_directory Directory containing raw light data files. expected named format <logger_id>_<year_retrieved>_<logger_model>, e.g. C23_2015_mk4083 calibration_data data frame containing metadata/calibration data loggers string providing filepath read data . can excel file, CSV file directory containing multiple calibration files. calibration mode, dataframe can consist single row per logger/year combination. calibration mode, minimum required columns logger_id, species, colony, date_deployed date_retrieved. Providing logger_model strongly advised. calibration mode, data frame expected format output running function calibration mode. all_colony_info data frame containing colony information loggers (one row per colony). required columns colony, latitude, longitude. filter_setting_list 'GLSFilterSettingsList' object containing filter settings loggers path load one using 'read_filter_file()'. Defaults 'seatrack_settings_list'. extra_metadata Optional data frame containing extra metadata loggers. must column logger_id join extra metadata. year_retrieved column can also provided join based combination logger session . export_maps logical indicating whether export maps processed positions. Defaults TRUE. plotting_dir optional directory path save plotting outputs. Defaults NULL. output_dir optional directory path save processed outputs. Defaults NULL. calibration_mode logical indicating whether run calibration mode. Defaults TRUE analyzer optional string indicating analyzer provided calibration data, column provided calibration data. Defaults empty string.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_logger_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare light position files a single logger and year combination — process_logger_year","text":"calibration_mode FALSE, returns list containing: - twilight_estimates: data frame twilight estimates. - posdata_export: data frame processed position data. - filtering: data frame summarizing filtering steps applied. calibration_mode TRUE, returns data frame default calibration outputs (plottinging dir NULL) exports calibration plots.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_positions.html","id":null,"dir":"Reference","previous_headings":"","what":"Process Positions from a Folder — process_positions","title":"Process Positions from a Folder — process_positions","text":"Convience function processing GLS logger data using provided calibration values. Uses 'process_folder()' process folder light data. See 'process_folder()' details. Custom settings can provided using filter_setting_list. creation empty filter settings template see 'create_filter_settings_file()'","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_positions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process Positions from a Folder — process_positions","text":"","code":"process_positions(   import_directory,   calibration_data,   all_colony_info,   output_directory,   extra_metadata = NULL,   filter_setting_list = seatrackRgls::seatrack_settings_list )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_positions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process Positions from a Folder — process_positions","text":"import_directory Directory containing raw light data files. expected named format <logger_id>_<year_retrieved>_<logger_model>, e.g. C23_2015_mk4083 calibration_data Data frame containing calibration data loggers path pointing calibration data, created prepare_calibration(). all_colony_info data frame containing colony information loggers (one row per colony). required columns colony, latitude, longitude. output_directory Directory save processed position outputs, plots etc. extra_metadata Optional data frame containing extra metadata loggers. must column logger_id join extra metadata. year_retrieved column can also provided join based combination logger session . filter_setting_list 'GLSFilterSettingsList' object containing filter settings loggers path load one using 'read_filter_file()'. Defaults 'seatrack_settings_list'.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/process_positions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process Positions from a Folder — process_positions","text":"export folder containing (logger), processed positions, twilight estimates, plots showing effects filters, folder summary files detailing results filters used maps.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/read_filter_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Read Filter File — read_filter_file","title":"Read Filter File — read_filter_file","text":"Read filter settings Excel CSV file return GLSFilterSettingsList object. filter file contain columns logger_id, species, colony, various filter settings. See create_filter_file example expected format.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/read_filter_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read Filter File — read_filter_file","text":"","code":"read_filter_file(filepath)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/read_filter_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read Filter File — read_filter_file","text":"filepath Filepath filter settings file (Excel CSV).","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/read_filter_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read Filter File — read_filter_file","text":"GLSFilterSettingsList object containing filter settings.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/seatrackRgls-package.html","id":null,"dir":"Reference","previous_headings":"","what":"seatrackRgls: An automated procedure used in the SEATRACK project to obtain positions from light-level geolocators in large- scale tracking of seabirds — seatrackRgls-package","title":"seatrackRgls: An automated procedure used in the SEATRACK project to obtain positions from light-level geolocators in large- scale tracking of seabirds — seatrackRgls-package","text":"estimate two positions day light-level data geolocators (Lotek, BAS, Biotrack, Migrate Technology) using threshold method. automatically edits twilight events used calculating positions filter positions based flight speed, distribution, distance, midnight sun periods. allowed, package saves plots local computer aid subjective calibration sun elevation angles, crucial producing realistic latitudes. script run twice. First \"best-guess\" sun angle, calibrated sun angle.","code":""},{"path":[]},{"path":"https://ninanor.github.io/seatrackRgls/reference/seatrackRgls-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"seatrackRgls: An automated procedure used in the SEATRACK project to obtain positions from light-level geolocators in large- scale tracking of seabirds — seatrackRgls-package","text":"Maintainer: Vegard Sandøy Bråthen vegard.brathen@nina.(ORCID) (Original creator, GLS expert) Authors: Julian Evans julian.evans@nina.nl (Code assistance)","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/seatrack_settings_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Seatrack filter settings — seatrack_settings_list","title":"Seatrack filter settings — seatrack_settings_list","text":"Default seatrack filter settings GLSFilterSettingsList object.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/seatrack_settings_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Seatrack filter settings — seatrack_settings_list","text":"","code":"seatrack_settings_list"},{"path":"https://ninanor.github.io/seatrackRgls/reference/seatrack_settings_list.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Seatrack filter settings — seatrack_settings_list","text":"object class GLSFilterSettingsList (inherits R6) length 5.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/speed_filter.html","id":null,"dir":"Reference","previous_headings":"","what":"Speed Filter for Position Data — speed_filter","title":"Speed Filter for Position Data — speed_filter","text":"Filters position data based travel speed longitude changes equinox periods.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/speed_filter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Speed Filter for Position Data — speed_filter","text":"","code":"speed_filter(posdata, speed)"},{"path":"https://ninanor.github.io/seatrackRgls/reference/speed_filter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Speed Filter for Position Data — speed_filter","text":"posdata data frame containing position data columns lat_smooth2, lon_smooth2, tFirst, eqfilter. speed Maximum allowable speed km/h.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/speed_filter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Speed Filter for Position Data — speed_filter","text":"filtered data frame positions exceeding speed limits showing abnormal longitude changes equinox periods removed.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilightCalc_bugfree.html","id":null,"dir":"Reference","previous_headings":"","what":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — twilightCalc_bugfree","title":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — twilightCalc_bugfree","text":"Property GeoLight Lisovski 2012. Small bug fixed outdated date-formatting function baseR","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilightCalc_bugfree.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function from GeoLight package. Property of GeoLight and Lisovski 2012. — twilightCalc_bugfree","text":"","code":"twilightCalc_bugfree(   datetime,   light,   LightThreshold = TRUE,   preSelection = TRUE,   maxLight = NULL,   ask = TRUE,   nsee = 500,   allTwilights = FALSE )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_cleanup.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate and Refine Locations From Light Data Recorded by Geolocators. — twilight_cleanup","title":"Estimate and Refine Locations From Light Data Recorded by Geolocators. — twilight_cleanup","text":"Filter remove false days nights caused recording shading artificial light patterns produce errornous twilights, filter made identify dates impossible number twilights. Normally, one sunset one sunrise date, affect long-range migration, filter allow dates two sunsets two sunrises long sunsets sunrises occur 22 hours apart . function predict timing twilights used selecting likely set twilights within dates. use predicted times avoid referring singular datapoints well can outliers.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_cleanup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate and Refine Locations From Light Data Recorded by Geolocators. — twilight_cleanup","text":"","code":"twilight_cleanup(   df,   breedingloc_lon,   breedingloc_lat,   months_breeding,   species,   show_plot,   sun_angle_start,   sun_angle_end,   show_filter_plots = FALSE )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_cleanup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate and Refine Locations From Light Data Recorded by Geolocators. — twilight_cleanup","text":"df data.frame 'tFirst', 'tSecond', 'type','sun'. breedingloc_lon longitude bird instrumented informs algorithm breedingloc_lat latitude bird instrumented informs algorithm months_breeding Expected months regular presence breeding location species default NA, information can added convenience show_plot TRUE/FALSE default NA, information can added convenience sun_angle_start NA, default -3.5. Analyser add manually calibrated value initial run function sun_angle_end filled compensating change light sensitivity (default NA)","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_cleanup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate and Refine Locations From Light Data Recorded by Geolocators. — twilight_cleanup","text":"data frame raw smoothed locations, twilight time, threshold sun angle used estimate locations, well convenient info logger individual.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_cleanup.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate and Refine Locations From Light Data Recorded by Geolocators. — twilight_cleanup","text":"function performs following steps: find dates many twilights (1 sunset 1 sunrise per 22 hours) Build predictions time sunset sunrise keeping unlikely times predictions loess filter std deviation. Standard deviation: calculate SD every 5th day keep points SD> 60mins making predictions Fill predictions dates light twilights makes daylength 0 hours. Retain candidate twilight closest predicted twilight, remove others","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_estimation.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate twilight times from light data — twilight_estimation","title":"Estimate twilight times from light data — twilight_estimation","text":"#' function estimates twilight times (sunrise sunset) light data using twilightCalc_bugfree function. also provides option visualize filtering process plots.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_estimation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate twilight times from light data — twilight_estimation","text":"","code":"twilight_estimation(   light_data,   light_data_calibration,   show_filter_plots = FALSE )"},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_estimation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate twilight times from light data — twilight_estimation","text":"light_data dataframe containing light data columns 'dtime' (datetime) 'lux' (light intensity). light_data_calibration list containing calibration parameters, including 'light_threshold' 'logger_model'. show_filter_plots logical value indicating whether display plots filtering process. Default FALSE.","code":""},{"path":"https://ninanor.github.io/seatrackRgls/reference/twilight_estimation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate twilight times from light data — twilight_estimation","text":"dataframe first two columns indicate timing twilight events column type, type == 1 indicates tFirst sunrise type == 2 indicates tFirst sunset.","code":""}]
